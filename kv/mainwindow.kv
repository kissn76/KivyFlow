#:kivy 2.2.1

<MainWindow>:
    orientation: "horizontal"
    MDLabel:
        size_hint_x: None
        size_hint_y: None
        width: 100
        height: 500
        canvas.before:
            Color:
                rgba: 0, 1, 0, 0.5
            Rectangle:
                size: self.size
                pos: self.pos
        text: "Widgets"
    MDFloatLayout:
        size_hint_x: None
        size_hint_y: None
        width: 1000
        height: 500
        pos: (300, 0)
        canvas.before:
            Color:
                rgba: 1, 1, 0, 0.5
            Rectangle:
                size: self.size
                pos: self.pos
        text: "Widgets"
        WidgetContainer:
            pos: (200, 100)
        WidgetContainer:
            pos: (0, 0)
        WidgetContainer:
            pos: (300, 200)

<WidgetContainer>:
    orientation: "vertical"
    size_hint_x: None
    size_hint_y: None
    width: 300
    drag_rectangle: self.x, self.y + self.height - self.titlebar_height, self.width - root.resize_border_width - root.middlewidget_width, self.titlebar_height
    drag_timeout: 10000000
    drag_distance: 0
    MDBoxLayout:
        orientation: "horizontal"
        size_hint_y: None
        height: root.titlebar_height
        WidgetMover:
            id: titlebar
            height: root.titlebar_height
        Widget:
            size_hint_x: None
            width: root.middlewidget_width
            canvas.before:
                Color:
                    rgba: 0, 1, 0, 0.5
                Rectangle:
                    size: self.size
                    pos: self.pos
        WidgetResizer:
            id: resizer
            width: root.resize_border_width
            height: root.titlebar_height
    SliderWidget

<WidgetMover>:
    text: "Name"
    size_hint_y: None
    canvas.before:
        Color:
            rgba: 0, 1, 0, 0.5
        Rectangle:
            size: self.size
            pos: self.pos

<WidgetResizer>:
    text: ""
    size_hint_y: None
    size_hint_x: None
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.5
        Rectangle:
            size: self.size
            pos: self.pos

<WidgetOutput>:
    orientation: "horizontal"
    size_hint_x: None
    padding: 0
    spacing: 0
    text: ""
    dialog: None
    canvas.before:
        Color:
            rgba: 1, 0, 0, 1
        Rectangle:
            size: self.size
            pos: self.pos
    MDLabel:
        text: root.text
    MDIcon:
        icon: "rhombus-medium"
        pos_hint: {"center_x": .5, "center_y": .5}

<SliderWidget>:
    orientation: "horizontal"
    MDSlider:
        id: slider
        canvas.before:
            Color:
                rgba: 0, 0, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos
        min: 0
        max: 100
        step: 0.1
        on_value: value.text = str(self.value)
        hint: False
    MDIconButton:
        icon: "cogs"
        on_release: root.show_config_dialog()
        size_hint_x: None
    WidgetOutput
        id: value

<SliderWidgetConfig>:
    orientation: "vertical"
    size_hint_y: None
    height: dp(200)

    MDTextField:
        id: min_value
        hint_text: "Minimum value"

    MDTextField:
        id: max_value
        hint_text: "Maximum value"

    MDTextField:
        id: step_value
        hint_text: "Step"
